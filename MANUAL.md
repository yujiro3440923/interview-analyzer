# 面談分析くん (Interview Analyzer) ユーザーマニュアル

## 1. アプリ概要（紹介文）
「面談分析くん」は、外国人労働者や従業員の月次面談記録（Excel/CSV）をアップロードするだけで、AIが自動で傾向を分析・可視化するWebアプリケーションです。

**主な特徴：**
- **自動解析**: ファイルを入れるだけで、相談件数の推移や頻出キーワードを即座にグラフ化します。
- **トピック抽出**: 「給与」「人間関係」「体調」など、どのような話題が多いかを自動で抽出します。
- **個人カルテ**: 従業員ごとの相談履歴をタイムライン形式で振り返ることができ、過去の経緯をすぐに把握できます。
- **日本語対応**: UIはすべて日本語で、直感的に操作できます。

---

## 2. 使い方

### ステップ1: データの準備
お手持ちの面談記録（ExcelまたはCSV）を用意してください。
以下の列が含まれている必要があります（列名は自動判定しますが、以下の名前を推奨します）。

| 列名 (推奨) | データ例 | 備考 |
|:---|:---|:---|
| **日付** | 2024/01/15 | 「2024年1月15日」などの形式も可 |
| **氏名** | 山田 太郎 | 従業員の名前 |
| **相談内容** | 寮のエアコンが寒い | 相談の本文 |
| **対応内容** | 管理会社へ連絡 | (任意) その後の対応 |

※ セル結合されていても、ある程度自動で読み取ります。
※ 1つのセルに「日付」と「名前」が改行で入っているパターンにも対応しています。

### ステップ2: アップロード
1. アプリのトップページを開きます。
2. 点線枠の中にExcel/CSVファイルをドラッグ＆ドロップします（またはクリックして選択）。
3. 自動的に解析が始まり、数秒〜数十秒で完了します。

### ステップ3: レポートの閲覧
解析が完了すると、レポート画面が表示されます。

- **サマリ**: 総相談件数、人数、平均センチメント（感情のポジティブ/ネガティブ度）
- **推移グラフ**: 月ごとの相談件数の増減
- **キーワード**: 全体でよく出てくる単語ランキング
- **個人一覧**: 名前で検索し、個人の詳細ページへ飛ぶことができます。

---

## 3. よくある質問 (Q&A)

**Q. エラーが出てアップロードできません。**
A. ファイル形式が `.xlsx` または `.csv` であるか確認してください。また、データ内に「日付」と認識できる列があるか確認してください。

**Q. 文字化けします。**
A. CSVファイルの場合、Shift-JISではなくUTF-8形式で保存すると直る場合があります。Excel(.xlsx)の使用を推奨します。

**Q. センチメント（感情値）とは何ですか？**
A. 相談内容に含まれる単語（「不満」「感謝」「痛い」「嬉しい」など）から、簡易的に算出しているスコアです。プラスならポジティブ、マイナスならネガティブな傾向がありますが、あくまで参考値としてご覧ください。

---

## 4. 開発・運用情報
このアプリは Next.js + SQLite で動作しています。
データはローカルのデータベースファイル (`dev.db`) に保存されるため、外部に流出することはありません。
